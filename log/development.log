Started GET "/books/" for ::1 at 2019-06-15 12:07:54 +0200
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.3) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.3) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ bin/rails:9
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateUsers (20190613104827)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "librarian" boolean, "phone" varchar, "loan_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_deeebccb95"
FOREIGN KEY ("loan_id")
  REFERENCES "loans" ("id")
)[0m
  â†³ db/migrate/20190613104827_create_users.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_loan_id" ON "users" ("loan_id")[0m
  â†³ db/migrate/20190613104827_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190613104827"]]
  â†³ bin/rails:9
  [1m[35m (15.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateBooks (20190613104841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "isbn13" integer, "description" text, "coverimage" varchar, "instock_total" integer, "instock_now" integer, "author_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_53d51ce16a"
FOREIGN KEY ("author_id")
  REFERENCES "authors" ("id")
)[0m
  â†³ db/migrate/20190613104841_create_books.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_books_on_author_id" ON "books" ("author_id")[0m
  â†³ db/migrate/20190613104841_create_books.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190613104841"]]
  â†³ bin/rails:9
  [1m[35m (16.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateAuthors (20190613104851)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "authors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "surname" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/migrate/20190613104851_create_authors.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190613104851"]]
  â†³ bin/rails:9
  [1m[35m (19.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateLoans (20190613104857)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "loans" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "date_loaned" date, "date_returned" date, "confirmed" boolean, "book_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_0bae58a826"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_c15c911198"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20190613104857_create_loans.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_loans_on_book_id" ON "loans" ("book_id")[0m
  â†³ db/migrate/20190613104857_create_loans.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_loans_on_user_id" ON "loans" ("user_id")[0m
  â†³ db/migrate/20190613104857_create_loans.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190613104857"]]
  â†³ bin/rails:9
  [1m[35m (16.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateLoanItems (20190613165402)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "loan_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "loan_id" integer, "book_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_ca4ea82362"
FOREIGN KEY ("loan_id")
  REFERENCES "loans" ("id")
, CONSTRAINT "fk_rails_04e0074d3b"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  â†³ db/migrate/20190613165402_create_loan_items.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_loan_items_on_loan_id" ON "loan_items" ("loan_id")[0m
  â†³ db/migrate/20190613165402_create_loan_items.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_loan_items_on_book_id" ON "loan_items" ("book_id")[0m
  â†³ db/migrate/20190613165402_create_loan_items.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190613165402"]]
  â†³ bin/rails:9
  [1m[35m (15.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateJoinTableAuthorsBooks (20190613195556)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "authors_books" ("author_id" integer NOT NULL, "book_id" integer NOT NULL)[0m
  â†³ db/migrate/20190613195556_create_join_table_authors_books.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_authors_books_on_author_id_and_book_id" ON "authors_books" ("author_id", "book_id")[0m
  â†³ db/migrate/20190613195556_create_join_table_authors_books.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_authors_books_on_book_id_and_author_id" ON "authors_books" ("book_id", "author_id")[0m
  â†³ db/migrate/20190613195556_create_join_table_authors_books.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190613195556"]]
  â†³ bin/rails:9
  [1m[35m (18.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (1.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-06-15 10:08:18.300642"], ["updated_at", "2019-06-15 10:08:18.300642"]]
  â†³ bin/rails:9
  [1m[35m (21.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/books/" for ::1 at 2019-06-15 12:08:39 +0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (168.7ms)
Completed 200 OK in 7354ms (Views: 7245.9ms | ActiveRecord: 2.3ms)


Started GET "/books/" for ::1 at 2019-06-15 12:18:08 +0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (288.9ms)
Completed 500 Internal Server Error in 337ms (ActiveRecord: 5.5ms)


  
ActionView::Template::Error (undefined method `loaned' for #<Loan:0x00007f0a88a378b8>
Did you mean?  loan_items):
    41:         <td><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    42:         <td>
    43:             <% if book.instock_now > 0 %>
    44:               <%= check_box("loan", :loaned) %>
    45: 
    46:             <% end %>
    47:         </td>
  
app/views/books/index.html.erb:44:in `block in _app_views_books_index_html_erb___3091511169156499558_69841609696780'
app/views/books/index.html.erb:20:in `_app_views_books_index_html_erb___3091511169156499558_69841609696780'
Started GET "/books/" for ::1 at 2019-06-15 12:21:18 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (59.6ms)
Completed 200 OK in 421ms (Views: 416.0ms | ActiveRecord: 2.0ms)


Started POST "/books" for ::1 at 2019-06-15 12:22:05 +0200
Processing by BooksController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Iqv0zstFegPinlhgqg94VynKNZGmTq5OKITTPnLsNhWEENB83+SDHosCm5/O3Fo1U2oNIjwljGlXYrg9I8VFqA==", "title"=>"", "isbn13"=>"", "commit"=>"Save "}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: book):
  
app/controllers/books_controller.rb:74:in `book_params'
app/controllers/books_controller.rb:28:in `create'
Started GET "/authors/" for ::1 at 2019-06-15 12:22:13 +0200
Processing by AuthorsController#index as HTML
  Rendering authors/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/authors/index.html.erb:15
  Rendered authors/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 60ms (Views: 56.0ms | ActiveRecord: 0.5ms)


Started GET "/loans/" for ::1 at 2019-06-15 12:22:19 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.7ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (80.2ms)
Completed 200 OK in 128ms (Views: 120.8ms | ActiveRecord: 2.5ms)


Started GET "/books/" for ::1 at 2019-06-15 12:25:35 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (16.6ms)
Completed 200 OK in 72ms (Views: 66.1ms | ActiveRecord: 1.6ms)


Started GET "/loan/1/" for ::1 at 2019-06-15 12:25:50 +0200
  
ActionController::RoutingError (No route matches [GET] "/loan/1"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/loans/1" for ::1 at 2019-06-15 12:25:56 +0200
Processing by LoansController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLoan Load (0.5ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:67
  Rendering loans/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/show.html.erb:34
  Rendered loans/show.html.erb within layouts/application (12.6ms)
Completed 200 OK in 74ms (Views: 58.2ms | ActiveRecord: 1.7ms)


Started GET "/books/" for ::1 at 2019-06-15 12:40:56 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 58ms (Views: 49.5ms | ActiveRecord: 1.6ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 13:00:28 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (240.9ms)
  Rendered books/edit.html.erb within layouts/application (246.6ms)
Completed 200 OK in 307ms (Views: 292.8ms | ActiveRecord: 1.2ms)


Started GET "/authors/" for ::1 at 2019-06-15 13:00:49 +0200
Processing by AuthorsController#index as HTML
  Rendering authors/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/authors/index.html.erb:15
  Rendered authors/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 71ms (Views: 66.2ms | ActiveRecord: 0.4ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 13:00:57 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (10.9ms)
  Rendered books/edit.html.erb within layouts/application (15.3ms)
Completed 200 OK in 79ms (Views: 68.2ms | ActiveRecord: 0.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 13:15:06 +0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (145.1ms)
  Rendered books/edit.html.erb within layouts/application (150.6ms)
Completed 200 OK in 714ms (Views: 558.0ms | ActiveRecord: 3.9ms)


Started GET "/books/3/edit" for ::1 at 2019-06-15 13:15:20 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (7.6ms)
  Rendered books/edit.html.erb within layouts/application (17.4ms)
Completed 200 OK in 80ms (Views: 70.5ms | ActiveRecord: 0.8ms)


Started GET "/books/2/edit" for ::1 at 2019-06-15 13:15:33 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (7.2ms)
  Rendered books/edit.html.erb within layouts/application (17.3ms)
Completed 200 OK in 84ms (Views: 72.7ms | ActiveRecord: 1.0ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 13:15:40 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (10.6ms)
  Rendered books/edit.html.erb within layouts/application (18.9ms)
Completed 200 OK in 86ms (Views: 74.3ms | ActiveRecord: 1.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 13:16:13 +0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (138.6ms)
  Rendered books/edit.html.erb within layouts/application (146.8ms)
Completed 200 OK in 708ms (Views: 519.9ms | ActiveRecord: 4.3ms)


Started GET "/books//edit" for ::1 at 2019-06-15 13:16:20 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"edit"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find Book with 'id'=edit):
  
app/controllers/books_controller.rb:69:in `set_book'
Started GET "/books/3/edit" for ::1 at 2019-06-15 13:16:28 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (9.2ms)
  Rendered books/edit.html.erb within layouts/application (15.8ms)
Completed 200 OK in 80ms (Views: 70.3ms | ActiveRecord: 1.1ms)


Started GET "/books/2/edit" for ::1 at 2019-06-15 13:16:36 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (12.3ms)
  Rendered books/edit.html.erb within layouts/application (19.1ms)
Completed 200 OK in 120ms (Views: 106.9ms | ActiveRecord: 2.3ms)


Started GET "/books/2/edit" for ::1 at 2019-06-15 13:17:58 +0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "authors"."id" FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (185.1ms)
  Rendered books/edit.html.erb within layouts/application (190.6ms)
Completed 200 OK in 728ms (Views: 551.7ms | ActiveRecord: 6.6ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 13:18:12 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "authors"."id" FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (17.2ms)
  Rendered books/edit.html.erb within layouts/application (28.5ms)
Completed 200 OK in 93ms (Views: 86.7ms | ActiveRecord: 1.1ms)


Started GET "/books/3/edit" for ::1 at 2019-06-15 13:18:27 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "authors"."id" FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (16.6ms)
  Rendered books/edit.html.erb within layouts/application (21.0ms)
Completed 200 OK in 88ms (Views: 77.3ms | ActiveRecord: 1.6ms)


Started GET "/books/" for ::1 at 2019-06-15 13:18:40 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (24.5ms)
Completed 200 OK in 127ms (Views: 73.5ms | ActiveRecord: 3.2ms)


Started GET "/books/2/edit" for ::1 at 2019-06-15 13:18:52 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (5.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "authors"."id" FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (15.8ms)
  Rendered books/edit.html.erb within layouts/application (21.2ms)
Completed 200 OK in 130ms (Views: 116.7ms | ActiveRecord: 6.3ms)


Started PATCH "/books/2" for ::1 at 2019-06-15 13:18:58 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yQtnn5ZMWeDobfhEaAP6thDa5mwlwKo2aN3rXBp/ftdvsEMtgu2g/YHxO7sM0NjUanre37+riBEXO4BfS1YNag==", "book"=>{"title"=>"Second book", "isbn13"=>"1234567891235", "description"=>"Second book it is.", "coverimage"=>"", "instock_total"=>"1", "instock_now"=>"0", "author_id"=>"2", "author_ids"=>["", "3", "4"]}, "commit"=>"Update Book", "id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
Unpermitted parameters: :author_id, :author_ids
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:45
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:45
Redirected to http://localhost:3000/books/2
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)


Started GET "/books/2" for ::1 at 2019-06-15 13:18:58 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (15.2ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `author' for #<Book:0x00007fd41183fb70>
Did you mean?  authors
               authors=):
    32: 
    33: <p>
    34:   <strong>Author:</strong>
    35:   <%= @book.author %>
    36: </p>
    37: 
    38: <%= link_to 'Edit', edit_book_path(@book) %> |
  
app/views/books/show.html.erb:35:in `_app_views_books_show_html_erb___1382590454736636115_70274401838620'
Started GET "/books/2" for ::1 at 2019-06-15 13:19:41 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 50ms (Views: 45.3ms | ActiveRecord: 0.4ms)


Started GET "/books" for ::1 at 2019-06-15 13:19:54 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (23.8ms)
Completed 200 OK in 79ms (Views: 73.5ms | ActiveRecord: 1.6ms)


Started GET "/books/1" for ::1 at 2019-06-15 13:26:20 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 54ms (Views: 45.1ms | ActiveRecord: 0.6ms)


Started GET "/loans/1" for ::1 at 2019-06-15 13:30:52 +0200
Processing by LoansController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLoan Load (0.5ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:67
  Rendering loans/show.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/show.html.erb:20
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/show.html.erb:34
  Rendered loans/show.html.erb within layouts/application (35.2ms)
Completed 200 OK in 114ms (Views: 96.1ms | ActiveRecord: 4.2ms)


Started GET "/books/1" for ::1 at 2019-06-15 13:33:29 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:36
  Rendered books/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 61ms (Views: 50.5ms | ActiveRecord: 2.4ms)


Started GET "/books/1" for ::1 at 2019-06-15 13:33:43 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 68ms (Views: 61.5ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for ::1 at 2019-06-15 13:33:58 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (24.7ms)
Completed 200 OK in 110ms (Views: 99.7ms | ActiveRecord: 1.5ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 13:34:13 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "authors"."id" FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (18.6ms)
  Rendered books/edit.html.erb within layouts/application (25.1ms)
Completed 200 OK in 91ms (Views: 81.6ms | ActiveRecord: 1.3ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 13:34:18 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fLLs5BTrm3C83QKmRgp9kj3VvRTf8lDxRxX7KEsy9BpnjTbltVaTTbvUMS9NaqwTXtPQNrqCv/iiWMHyEuMTZw==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_id"=>"1", "author_ids"=>["", "1", "2", "3"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
Unpermitted parameters: :author_id, :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:45
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:45
Redirected to http://localhost:3000/books/1
Completed 302 Found in 42ms (ActiveRecord: 0.5ms)


Started GET "/books/1" for ::1 at 2019-06-15 13:34:18 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 57ms (Views: 49.2ms | ActiveRecord: 0.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 13:34:21 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "authors"."id" FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (12.9ms)
  Rendered books/edit.html.erb within layouts/application (16.8ms)
Completed 200 OK in 83ms (Views: 66.1ms | ActiveRecord: 2.7ms)


Started PUT "/__web_console/repl_sessions/e17ccfeb4a3d6d8f8d7255f6a0832f1e" for ::1 at 2019-06-15 13:40:33 +0200
Started PUT "/__web_console/repl_sessions/e17ccfeb4a3d6d8f8d7255f6a0832f1e" for ::1 at 2019-06-15 13:40:38 +0200
Started PUT "/__web_console/repl_sessions/e17ccfeb4a3d6d8f8d7255f6a0832f1e" for ::1 at 2019-06-15 13:40:42 +0200
Started PUT "/__web_console/repl_sessions/e17ccfeb4a3d6d8f8d7255f6a0832f1e" for ::1 at 2019-06-15 13:40:58 +0200
Started PUT "/__web_console/repl_sessions/e17ccfeb4a3d6d8f8d7255f6a0832f1e" for ::1 at 2019-06-15 13:41:00 +0200
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? LIMIT ?[0m  [["book_id", 1], ["LIMIT", 11]]
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/books/1/edit" for ::1 at 2019-06-15 14:31:45 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (2.6ms)
  Rendered books/edit.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 69ms (ActiveRecord: 6.1ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/_form.html.erb:48: syntax error, unexpected ')', expecting end
...hecked: book.authors.map(&:id)) do |b| @output_buffer.safe_a...
...                              ^
/mnt/c/rw/kni/app/views/books/_form.html.erb:60: syntax error, unexpected end, expecting end-of-input
'.freeze; end 
          ^~~):
  
app/views/books/_form.html.erb:48: syntax error, unexpected ')', expecting end
app/views/books/_form.html.erb:60: syntax error, unexpected end, expecting end-of-input
app/views/books/edit.html.erb:3:in `_app_views_books_edit_html_erb__1196066779834277947_70274322293700'
Started GET "/books/1/edit" for ::1 at 2019-06-15 14:32:17 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (2.8ms)
  Rendered books/edit.html.erb within layouts/application (7.9ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.4ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/_form.html.erb:47: syntax error, unexpected ')', expecting end
...hecked: book.authors.map(&:id)) do |b| @output_buffer.safe_a...
...                              ^
/mnt/c/rw/kni/app/views/books/_form.html.erb:59: syntax error, unexpected end, expecting end-of-input
'.freeze; end 
          ^~~):
  
app/views/books/_form.html.erb:47: syntax error, unexpected ')', expecting end
app/views/books/_form.html.erb:59: syntax error, unexpected end, expecting end-of-input
app/views/books/edit.html.erb:3:in `_app_views_books_edit_html_erb__1196066779834277947_70274407230200'
Started GET "/books/1/edit" for ::1 at 2019-06-15 14:32:29 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (1.1ms)
  Rendered books/edit.html.erb within layouts/application (6.5ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.4ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/_form.html.erb:47: syntax error, unexpected ')', expecting end
...hecked: book.authors.map(&:id)) do |b| @output_buffer.safe_a...
...                              ^
/mnt/c/rw/kni/app/views/books/_form.html.erb:59: syntax error, unexpected end, expecting end-of-input
'.freeze; end 
          ^~~):
  
app/views/books/_form.html.erb:47: syntax error, unexpected ')', expecting end
app/views/books/_form.html.erb:59: syntax error, unexpected end, expecting end-of-input
app/views/books/edit.html.erb:3:in `_app_views_books_edit_html_erb__1196066779834277947_70274355788480'
Started GET "/books/1/edit" for ::1 at 2019-06-15 14:34:03 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (2.9ms)
  Rendered books/edit.html.erb within layouts/application (7.2ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.4ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/_form.html.erb:47: syntax error, unexpected ',', expecting ')'
...ction_check_boxes (:author_ids, Author.all, :id, :fullname, ...
...                              ^
/mnt/c/rw/kni/app/views/books/_form.html.erb:47: syntax error, unexpected ',', expecting '.' or &. or :: or '['
... (:author_ids, Author.all, :id, :fullname, checked: book.aut...
...                              ^
/mnt/c/rw/kni/app/views/books/_form.html.erb:47: syntax error, unexpected ')', expecting end
...hecked: book.authors.map(&:id)) do |b| @output_buffer.safe_a...
...                              ^
/mnt/c/rw/kni/app/views/books/_form.html.erb:59: syntax error, unexpected end, expecting end-of-input
'.freeze; end 
          ^~~):
  
app/views/books/_form.html.erb:47: syntax error, unexpected ',', expecting ')'
app/views/books/_form.html.erb:47: syntax error, unexpected ',', expecting '.' or &. or :: or '['
app/views/books/_form.html.erb:47: syntax error, unexpected ')', expecting end
app/views/books/_form.html.erb:59: syntax error, unexpected end, expecting end-of-input
app/views/books/edit.html.erb:3:in `_app_views_books_edit_html_erb__1196066779834277947_70274323004700'
Started GET "/books/1/edit" for ::1 at 2019-06-15 14:34:41 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (5.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (46.0ms)
  Rendered books/edit.html.erb within layouts/application (50.3ms)
Completed 200 OK in 110ms (Views: 95.0ms | ActiveRecord: 8.2ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 14:35:13 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (21.9ms)
  Rendered books/edit.html.erb within layouts/application (32.5ms)
Completed 200 OK in 98ms (Views: 81.0ms | ActiveRecord: 1.4ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 14:35:19 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Rk8GBbDR0aRdz+CsGX3KLQ2irJ7yI/C3HqznhgU+U8vg9CK3pHAouTRTI1N9ruhPdwKULWhI0pBhSoyFVBcgdg==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_id"=>"1", "author_ids"=>["", "1", "2", "3"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
Unpermitted parameters: :author_id, :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:45
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:45
Redirected to http://localhost:3000/books/1
Completed 302 Found in 36ms (ActiveRecord: 0.6ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:35:19 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (4.3ms)
Completed 200 OK in 58ms (Views: 51.5ms | ActiveRecord: 0.8ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 14:35:22 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:69
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (14.7ms)
  Rendered books/edit.html.erb within layouts/application (18.7ms)
Completed 200 OK in 76ms (Views: 60.4ms | ActiveRecord: 1.1ms)


Started GET "/books/" for ::1 at 2019-06-15 14:38:50 +0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (144.9ms)
Completed 200 OK in 668ms (Views: 617.0ms | ActiveRecord: 6.3ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 14:38:54 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (5.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (115.1ms)
  Rendered books/edit.html.erb within layouts/application (119.8ms)
Completed 200 OK in 176ms (Views: 162.9ms | ActiveRecord: 6.3ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 14:38:57 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5cY+OlrXYkWCN9QIwm8nk7hFgurdMlZpkzRIxNN93L7++eQ7+2pqeIU+54HJD/YS20PvyLhCuWB2eXIeiqw7ww==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_id"=>"1", "author_ids"=>["", "1", "2", "4"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
Completed 500 Internal Server Error in 330ms (ActiveRecord: 0.4ms)


  
NameError (undefined local variable or method `product_params' for #<BooksController:0x00007f2424057a40>):
  
app/controllers/books_controller.rb:57:in `block in update'
app/controllers/books_controller.rb:56:in `update'
Started PATCH "/books/1" for ::1 at 2019-06-15 14:39:49 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"owu1iOwOb+f1JwqPqcr4Usl0GCmNBKBRWl1i11kfbfAFsJE6+K+W+py7yXDNGdows9QgmhdvgnYluwnUCDYeTQ==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_id"=>"1", "author_ids"=>["", "1", "2", "4"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
Unpermitted parameters: :author_id, :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:57
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:57
Redirected to http://localhost:3000/books/1
Completed 302 Found in 86ms (ActiveRecord: 34.0ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:39:49 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (60.9ms)
Completed 200 OK in 141ms (Views: 125.1ms | ActiveRecord: 3.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 14:39:52 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (12.4ms)
  Rendered books/edit.html.erb within layouts/application (17.8ms)
Completed 200 OK in 69ms (Views: 62.9ms | ActiveRecord: 1.3ms)


Started GET "/books/" for ::1 at 2019-06-15 14:54:16 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (28.5ms)
Completed 200 OK in 92ms (Views: 80.2ms | ActiveRecord: 2.7ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:54:18 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (9.7ms)
Completed 200 OK in 63ms (Views: 54.2ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:54:44 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 62ms (Views: 53.1ms | ActiveRecord: 1.5ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:54:55 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 92ms (Views: 86.7ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:55:10 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 62ms (Views: 51.3ms | ActiveRecord: 1.0ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:55:31 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/show.html.erb:35: syntax error, unexpected '<'
...hors.map(&:fullname).join(';'+</br>) );@output_buffer.safe_a...
...                              ^
/mnt/c/rw/kni/app/views/books/show.html.erb:38: unknown regexp option - p
/mnt/c/rw/kni/app/views/books/show.html.erb:38: unmatched close parenthesis: /br>) );@output_buffer.safe_append='

  
</
/mnt/c/rw/kni/app/views/books/show.html.erb:41: syntax error, unexpected tCONSTANT, expecting ')'
...t_buffer.append=( link_to 'Edit', edit_book_path(@book) );@o...
...                           ^~~~
/mnt/c/rw/kni/app/views/books/show.html.erb:42: syntax error, unexpected tCONSTANT, expecting ')'
...t_buffer.append=( link_to 'Back', books_path );@output_buffe...
...                           ^~~~
/mnt/c/rw/kni/app/views/books/show.html.erb:49: unterminated string meets end of file
          end
              ^
/mnt/c/rw/kni/app/views/books/show.html.erb:49: syntax error, unexpected end-of-input, expecting ')'):
  
app/views/books/show.html.erb:35: syntax error, unexpected '<'
app/views/books/show.html.erb:38: unknown regexp option - p
app/views/books/show.html.erb:38: unmatched close parenthesis: /br>) );@output_buffer.safe_append='
app/views/books/show.html.erb:41: syntax error, unexpected tCONSTANT, expecting ')'
app/views/books/show.html.erb:42: syntax error, unexpected tCONSTANT, expecting ')'
app/views/books/show.html.erb:49: unterminated string meets end of file
app/views/books/show.html.erb:49: syntax error, unexpected end-of-input, expecting ')'
Started GET "/books/1" for ::1 at 2019-06-15 14:55:39 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 58ms (Views: 48.0ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:55:49 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 73ms (Views: 67.2ms | ActiveRecord: 0.8ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 14:55:54 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (10.3ms)
  Rendered books/edit.html.erb within layouts/application (16.2ms)
Completed 200 OK in 73ms (Views: 62.3ms | ActiveRecord: 1.4ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 14:55:56 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mBaPIgZI9sGk0m9tb1TY4utCtum/NK97JYCS26SytyODKVUjp/X+/KPbXORkNAljiETby9pEQHLAzagB/WNQXg==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_id"=>"1", "author_ids"=>["", "1", "2", "4"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
Unpermitted parameters: :author_id, :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:57
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:57
Redirected to http://localhost:3000/books/1
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)


Started GET "/books/1" for ::1 at 2019-06-15 14:55:56 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 54ms (Views: 48.3ms | ActiveRecord: 0.8ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 14:57:09 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (16.9ms)
  Rendered books/edit.html.erb within layouts/application (21.8ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Category):
    41:     <%= form.number_field :instock_now %>
    42:   </div>
    43: 
    44:   <% for category in Category.all %>
    45: <div>
    46:   <%= check_box_tag "product[category_ids][]", category.id, @product.categories.include?(category) %>
    47:   <%= category.name %>
  
app/views/books/_form.html.erb:44:in `block in _app_views_books__form_html_erb__2410781286713991313_69896703173900'
app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__2410781286713991313_69896703173900'
app/views/books/edit.html.erb:3:in `_app_views_books_edit_html_erb__1062128528594726789_69896703164080'
Started GET "/books/1" for ::1 at 2019-06-15 15:00:28 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 72ms (Views: 66.7ms | ActiveRecord: 0.8ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 15:00:30 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (21.9ms)
  Rendered books/edit.html.erb within layouts/application (27.2ms)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined method `name' for #<Author:0x00007f242725f858>):
    44:         <% for author in Author.all %>
    45:       <div>
    46:         <%= check_box_tag "product[author_ids][]", author.id, @book.authors.include?(author) %>
    47:         <%= author.name %>
    48:       </div>
    49:       <% end %>
    50: 
  
app/views/books/_form.html.erb:47:in `block (2 levels) in _app_views_books__form_html_erb__2410781286713991313_69896625648240'
app/views/books/_form.html.erb:44:in `block in _app_views_books__form_html_erb__2410781286713991313_69896625648240'
app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__2410781286713991313_69896625648240'
app/views/books/edit.html.erb:3:in `_app_views_books_edit_html_erb__1062128528594726789_69896625557520'
Started GET "/books/1" for ::1 at 2019-06-15 15:00:51 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 69ms (Views: 57.8ms | ActiveRecord: 0.9ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 15:00:54 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (23.1ms)
  Rendered books/edit.html.erb within layouts/application (33.5ms)
Completed 200 OK in 98ms (Views: 89.8ms | ActiveRecord: 3.3ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 15:01:00 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SypcZ+B75nNATgB9S+Qcpw+iGXFbvB7ftINOZZt91wxQFYZmQcbuTkdHM/RAhM0mbKR0Uz7M8dZRznS/wqwwcQ==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_id"=>"1", "author_ids"=>["", "1", "2"]}, "product"=>{"author_ids"=>["1", "2", "4"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
Unpermitted parameters: :author_id, :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:57
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:57
Redirected to http://localhost:3000/books/1
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)


Started GET "/books/1" for ::1 at 2019-06-15 15:01:00 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 64ms (Views: 49.2ms | ActiveRecord: 1.0ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 15:01:04 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:81
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Load (1.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (30.8ms)
  Rendered books/edit.html.erb within layouts/application (36.7ms)
Completed 200 OK in 91ms (Views: 75.9ms | ActiveRecord: 5.1ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 17:47:56 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (76.4ms)
  Rendered books/edit.html.erb within layouts/application (80.1ms)
Completed 200 OK in 231ms (Views: 184.8ms | ActiveRecord: 5.9ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 17:48:00 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pozaw0vUWkmS5atr7YI/btGf4ifIxTF34CVLXegsP1IAN/5xX3WjVPt5aJSJUR0Mqz/alFKuE1CfwyBeuQVM7w==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1"}, "product"=>{"author_ids"=>["1", "2"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
Unpermitted parameter: :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/1
Completed 302 Found in 24ms (ActiveRecord: 2.0ms)


Started GET "/books/1" for ::1 at 2019-06-15 17:48:00 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (17.8ms)
Completed 200 OK in 62ms (Views: 53.8ms | ActiveRecord: 2.6ms)


Started GET "/books" for ::1 at 2019-06-15 17:48:02 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (3.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (23.5ms)
Completed 200 OK in 113ms (Views: 98.1ms | ActiveRecord: 5.1ms)


Started GET "/books/1" for ::1 at 2019-06-15 17:48:05 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 48ms (Views: 41.7ms | ActiveRecord: 0.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 17:48:06 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (8.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (17.7ms)
  Rendered books/edit.html.erb within layouts/application (21.7ms)
Completed 200 OK in 88ms (Views: 60.3ms | ActiveRecord: 10.7ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 17:48:09 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3XPK1qwfOK56GXG1DOCrtLpRrsXNEF3Yc8lxu0K3JFfGTBDXDaIwk30QQjwHgHo12VfD56hgstGWhEthG2bDKg==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1"}, "product"=>{"author_ids"=>["1", "2", "3"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
Unpermitted parameter: :author_ids
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/1
Completed 302 Found in 11ms (ActiveRecord: 1.2ms)


Started GET "/books/1" for ::1 at 2019-06-15 17:48:09 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (1.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 46ms (Views: 38.0ms | ActiveRecord: 2.3ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 17:48:14 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (15.6ms)
  Rendered books/edit.html.erb within layouts/application (21.2ms)
Completed 200 OK in 83ms (Views: 55.6ms | ActiveRecord: 3.2ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:04:44 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (21.9ms)
  Rendered books/edit.html.erb within layouts/application (27.5ms)
Completed 200 OK in 89ms (Views: 69.4ms | ActiveRecord: 4.8ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:04:55 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (19.3ms)
  Rendered books/edit.html.erb within layouts/application (26.0ms)
Completed 200 OK in 73ms (Views: 66.2ms | ActiveRecord: 2.0ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 18:04:59 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"k3qHrrIslKFgKvkmSU2WN3u1OKG8Ai2dx50vAcTFcL81waMcpo1tvAm2OtktnrRVARUAEiZpD7q4e0QClewDAg==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_ids"=>["1", "2", "4"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
Unpermitted parameter: :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)


Started GET "/books/1" for ::1 at 2019-06-15 18:04:59 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 74ms (Views: 69.1ms | ActiveRecord: 0.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:05:01 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (2.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (27.6ms)
  Rendered books/edit.html.erb within layouts/application (40.6ms)
Completed 200 OK in 119ms (Views: 91.1ms | ActiveRecord: 4.4ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:06:27 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (52.4ms)
  Rendered books/edit.html.erb within layouts/application (56.6ms)
Completed 200 OK in 113ms (Views: 103.6ms | ActiveRecord: 3.8ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:06:55 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (5.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (38.3ms)
  Rendered books/edit.html.erb within layouts/application (42.7ms)
Completed 200 OK in 100ms (Views: 88.1ms | ActiveRecord: 7.8ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:07:38 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (19.2ms)
  Rendered books/edit.html.erb within layouts/application (23.4ms)
Completed 200 OK in 75ms (Views: 63.9ms | ActiveRecord: 2.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:11:46 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:50
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:50
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:50
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:50
  Rendered books/_form.html.erb (24.2ms)
  Rendered books/edit.html.erb within layouts/application (28.2ms)
Completed 200 OK in 93ms (Views: 83.8ms | ActiveRecord: 3.2ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:12:29 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (1.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (18.4ms)
  Rendered books/edit.html.erb within layouts/application (22.4ms)
Completed 200 OK in 69ms (Views: 59.2ms | ActiveRecord: 5.2ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:14:45 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (65.8ms)
  Rendered books/edit.html.erb within layouts/application (70.1ms)
Completed 200 OK in 203ms (Views: 146.7ms | ActiveRecord: 7.9ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 18:14:49 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ALlceeNNWyc3emNUoaLUM0UKmLxO5ktap40gRHBwkLWmAnjL9+yiOl7moKvFcfZRP6qgD9SNaX3Ya0tHIVnjCA==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_ids"=>["1", "2", "4"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
Unpermitted parameter: :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/1
Completed 302 Found in 26ms (ActiveRecord: 2.4ms)


Started GET "/books/1" for ::1 at 2019-06-15 18:14:49 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (18.2ms)
Completed 200 OK in 63ms (Views: 56.1ms | ActiveRecord: 2.4ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:14:51 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (15.5ms)
  Rendered books/edit.html.erb within layouts/application (20.6ms)
Completed 200 OK in 82ms (Views: 60.4ms | ActiveRecord: 2.1ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 18:14:56 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"j5U7PWBGRy/42d3R4p3nQZNbvB6tbkwkxR9IULDm2WaUquE8wftPEv/Q7ljp/TbA8F3RPMgeoy0gUnKK6Tc+Gw==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_ids"=>["1", "2", "1", "2", "3"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
Unpermitted parameter: :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/1
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)


Started GET "/books/1" for ::1 at 2019-06-15 18:14:56 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 66ms (Views: 59.5ms | ActiveRecord: 0.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 18:14:58 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (17.1ms)
  Rendered books/edit.html.erb within layouts/application (21.0ms)
Completed 200 OK in 67ms (Views: 58.5ms | ActiveRecord: 3.3ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 22:06:42 +0200
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (398.3ms)
  Rendered books/edit.html.erb within layouts/application (415.9ms)
Completed 200 OK in 1274ms (Views: 1137.9ms | ActiveRecord: 5.9ms)


Started PATCH "/books/1" for ::1 at 2019-06-15 22:07:46 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5AGhJjwi19cq5H2AbGOhIILnFGZSw+18Y7WsYQ2fVtFCuoWUKIMuykN4vn8IsINC+Ecs1cioz1scU8diXLYlbA==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_ids"=>["1", "2", "3", "4"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
Unpermitted parameter: :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/1
Completed 302 Found in 29ms (ActiveRecord: 2.4ms)


Started GET "/books/1" for ::1 at 2019-06-15 22:07:47 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (22.9ms)
Completed 200 OK in 87ms (Views: 76.9ms | ActiveRecord: 2.6ms)


Started PUT "/__web_console/repl_sessions/a20b00bc77afe33a29fc1fae3b71aaf9" for ::1 at 2019-06-15 22:08:06 +0200
Started PUT "/__web_console/repl_sessions/a20b00bc77afe33a29fc1fae3b71aaf9" for ::1 at 2019-06-15 22:08:06 +0200
Started PUT "/__web_console/repl_sessions/a20b00bc77afe33a29fc1fae3b71aaf9" for ::1 at 2019-06-15 22:10:27 +0200
Started PUT "/__web_console/repl_sessions/a20b00bc77afe33a29fc1fae3b71aaf9" for ::1 at 2019-06-15 22:10:32 +0200
Started PUT "/__web_console/repl_sessions/a20b00bc77afe33a29fc1fae3b71aaf9" for ::1 at 2019-06-15 22:10:35 +0200
Started PUT "/__web_console/repl_sessions/a20b00bc77afe33a29fc1fae3b71aaf9" for ::1 at 2019-06-15 22:10:37 +0200
Started GET "/books/1/edit" for ::1 at 2019-06-15 22:11:35 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (26.9ms)
  Rendered books/edit.html.erb within layouts/application (33.5ms)
Completed 200 OK in 80ms (Views: 68.9ms | ActiveRecord: 3.5ms)


Started PUT "/__web_console/repl_sessions/81354236c661df89a172bfbe0d5a4b3e" for ::1 at 2019-06-15 22:11:39 +0200
Started PUT "/__web_console/repl_sessions/81354236c661df89a172bfbe0d5a4b3e" for ::1 at 2019-06-15 22:11:39 +0200
Started PATCH "/books/1" for ::1 at 2019-06-15 22:12:08 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+MOTxwCkdGRcKWGpdLIcgcabmOergA+OeOL2OCUSF0/j/EnGoRl8WVsgUiB/0s0ApZ31xc7w4Iedr8zifMPwMg==", "book"=>{"title"=>"First book", "isbn13"=>"1234567891234", "description"=>"First book they wrote.", "coverimage"=>"", "instock_total"=>"3", "instock_now"=>"1", "author_ids"=>["1", "2", "3"]}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
Unpermitted parameter: :author_ids
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook Update (6.3ms)[0m  [1m[33mUPDATE "books" SET "instock_total" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["instock_total", 3], ["updated_at", "2019-06-15 20:12:08.573832"], ["id", 1]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (18.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/1
Completed 302 Found in 33ms (ActiveRecord: 24.7ms)


Started GET "/books/1" for ::1 at 2019-06-15 22:12:08 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 111ms (Views: 96.2ms | ActiveRecord: 0.9ms)


Started PUT "/__web_console/repl_sessions/0158f18fe7808858b26d32e6d838c4ef" for ::1 at 2019-06-15 22:12:13 +0200
Started PUT "/__web_console/repl_sessions/0158f18fe7808858b26d32e6d838c4ef" for ::1 at 2019-06-15 22:12:14 +0200
Started GET "/books/1/edit" for ::1 at 2019-06-15 22:12:22 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (13.4ms)
  Rendered books/edit.html.erb within layouts/application (34.0ms)
Completed 200 OK in 93ms (Views: 78.7ms | ActiveRecord: 2.0ms)


Started PUT "/__web_console/repl_sessions/fd9c0e4af3a7802e4b2adb4e4b81d5f9" for ::1 at 2019-06-15 22:12:25 +0200
Started PUT "/__web_console/repl_sessions/fd9c0e4af3a7802e4b2adb4e4b81d5f9" for ::1 at 2019-06-15 22:12:26 +0200
Started PUT "/__web_console/repl_sessions/fd9c0e4af3a7802e4b2adb4e4b81d5f9" for ::1 at 2019-06-15 22:12:32 +0200
Started GET "/books/" for ::1 at 2019-06-15 22:14:22 +0200
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (359.6ms)
Completed 200 OK in 988ms (Views: 901.2ms | ActiveRecord: 4.5ms)


Started GET "/books/3/edit" for ::1 at 2019-06-15 22:14:32 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (59.0ms)
  Rendered books/edit.html.erb within layouts/application (62.9ms)
Completed 200 OK in 131ms (Views: 101.9ms | ActiveRecord: 2.7ms)


Started PATCH "/books/3" for ::1 at 2019-06-15 22:14:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kSgaONaTKjZJE071vOhl/HWzukVkMy7P8hkY0d2yneRpLEqjZG/k9vA1NrCe8FLVsujJu4BaqTg1HcCRDjN1tg==", "book"=>{"title"=>"Third book", "isbn13"=>"1234567891236", "description"=>"Third one.", "coverimage"=>"", "instock_total"=>"1", "instock_now"=>"0", "author_ids"=>["3", "4"]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (?, ?)[0m  [["id", 3], ["id", 4]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (1.2ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 3], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (14.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/3
Completed 302 Found in 65ms (ActiveRecord: 17.1ms)


Started GET "/books/3" for ::1 at 2019-06-15 22:14:37 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 84ms (Views: 78.6ms | ActiveRecord: 0.6ms)


Started GET "/books/3/edit" for ::1 at 2019-06-15 22:14:41 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (19.4ms)
  Rendered books/edit.html.erb within layouts/application (24.2ms)
Completed 200 OK in 88ms (Views: 63.5ms | ActiveRecord: 2.0ms)


Started PATCH "/books/3" for ::1 at 2019-06-15 22:14:48 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+cV0PFu2/7Me4A5KuX+azEFVTo5tYMqPcOqnT1HpjpQBwSSn6Uoxc6fGdg+bZ63lhg49cIkJTXi37n8Pgmhmxg==", "book"=>{"title"=>"Third book", "isbn13"=>"1234567891236", "description"=>"Third one.", "coverimage"=>"", "instock_total"=>"1", "instock_now"=>"0", "author_ids"=>["3", "4", "2", "3", "4"]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (3.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (?, ?, ?, ?, ?)[0m  [["id", 3], ["id", 4], ["id", 2], ["id", 3], ["id", 4]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (5.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 2], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (0.1ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 3], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (0.2ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 4], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/3
Completed 302 Found in 46ms (ActiveRecord: 26.7ms)


Started GET "/books/3" for ::1 at 2019-06-15 22:14:48 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 46ms (Views: 40.6ms | ActiveRecord: 0.7ms)


Started GET "/books/3/edit" for ::1 at 2019-06-15 22:14:52 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (12.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (15.6ms)
  Rendered books/edit.html.erb within layouts/application (22.7ms)
Completed 200 OK in 89ms (Views: 60.2ms | ActiveRecord: 14.2ms)


Started PATCH "/books/3" for ::1 at 2019-06-15 22:14:58 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wpYdIfMJQZf13iE72hDN9CUNxbI9r+05HrV4C15AyXY6kk26QfWPV0z4WX74CPrd4la2TNnGas7ZsaBLjcEhJA==", "book"=>{"title"=>"Third book", "isbn13"=>"1234567891236", "description"=>"Third one.", "coverimage"=>"", "instock_total"=>"1", "instock_now"=>"0"}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE 1=0[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Destroy (5.5ms)[0m  [1m[31mDELETE FROM "authors_books" WHERE "authors_books"."book_id" = ? AND "authors_books"."author_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 3], ["author_id", 2], ["author_id", 3], ["author_id", 3], ["author_id", 4], ["author_id", 4]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (17.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/3
Completed 302 Found in 50ms (ActiveRecord: 24.6ms)


Started GET "/books/3" for ::1 at 2019-06-15 22:14:58 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (28.1ms)
Completed 200 OK in 74ms (Views: 66.9ms | ActiveRecord: 0.7ms)


Started GET "/books/3/edit" for ::1 at 2019-06-15 22:15:00 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (19.5ms)
  Rendered books/edit.html.erb within layouts/application (23.5ms)
Completed 200 OK in 87ms (Views: 73.2ms | ActiveRecord: 2.8ms)


Started PATCH "/books/3" for ::1 at 2019-06-15 22:15:03 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3KqePmzsDIEW1/OanppmJECMEK0R4as+UM3tRnAEshQkrs6l3hDCQa/xi9+8glENh9djU/WILMmXyTUGo4VaRg==", "book"=>{"title"=>"Third book", "isbn13"=>"1234567891236", "description"=>"Third one.", "coverimage"=>"", "instock_total"=>"1", "instock_now"=>"0", "author_ids"=>["2", "3"]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (5.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 2], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (0.2ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 3], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (19.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/3
Completed 302 Found in 43ms (ActiveRecord: 26.0ms)


Started GET "/books/3" for ::1 at 2019-06-15 22:15:03 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 45ms (Views: 38.2ms | ActiveRecord: 1.2ms)


Started GET "/books/3/edit" for ::1 at 2019-06-15 22:15:40 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (18.7ms)
  Rendered books/edit.html.erb within layouts/application (22.2ms)
Completed 200 OK in 86ms (Views: 58.6ms | ActiveRecord: 2.9ms)


Started PATCH "/books/3" for ::1 at 2019-06-15 22:15:45 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3Iz+Qq0XD4+S667slT15pCpVPaFgA7zRg1EOvOWzVxQkiK7ZH+vBTyvN1qm3JU6N7Q5OX4RqOyZEVdb8NjK/Rg==", "book"=>{"title"=>"Third book", "isbn13"=>"1234567891236", "description"=>"Third one.", "coverimage"=>"", "instock_total"=>"1", "instock_now"=>"0", "author_ids"=>["2", "3"]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/3
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)


Started GET "/books/3" for ::1 at 2019-06-15 22:15:45 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:82
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 48ms (Views: 40.5ms | ActiveRecord: 0.9ms)


Started GET "/books" for ::1 at 2019-06-15 22:15:48 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (13.2ms)
Completed 200 OK in 74ms (Views: 63.6ms | ActiveRecord: 1.2ms)


Started GET "/" for ::1 at 2019-06-15 23:23:57 +0200
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.2.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.2.3/lib/rails/templates/rails/welcome/index.html.erb (13.8ms)
Completed 200 OK in 82ms (Views: 52.3ms | ActiveRecord: 0.0ms)


Started GET "/books/" for ::1 at 2019-06-15 23:26:40 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (349.8ms)
Completed 200 OK in 1072ms (Views: 980.8ms | ActiveRecord: 4.5ms)


Started GET "/books/" for ::1 at 2019-06-15 23:27:40 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (38.9ms)
Completed 200 OK in 87ms (Views: 72.3ms | ActiveRecord: 5.0ms)


Started GET "/books/" for ::1 at 2019-06-15 23:27:46 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (25.6ms)
Completed 200 OK in 81ms (Views: 73.4ms | ActiveRecord: 1.5ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 23:28:04 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (6.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:54
  Rendered books/_form.html.erb (80.4ms)
  Rendered books/edit.html.erb within layouts/application (84.8ms)
Completed 200 OK in 142ms (Views: 121.2ms | ActiveRecord: 7.7ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 23:28:34 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (16.7ms)
  Rendered books/edit.html.erb within layouts/application (22.9ms)
Completed 200 OK in 107ms (Views: 99.9ms | ActiveRecord: 2.2ms)


Started GET "/books" for ::1 at 2019-06-15 23:29:39 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 187ms (Views: 113.2ms | ActiveRecord: 1.0ms)


Started GET "/books/1/edit" for ::1 at 2019-06-15 23:29:43 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (16.3ms)
  Rendered books/edit.html.erb within layouts/application (39.3ms)
Completed 200 OK in 95ms (Views: 82.1ms | ActiveRecord: 2.2ms)


Started GET "/books/2/edit" for ::1 at 2019-06-15 23:31:12 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 2], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 2], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (20.1ms)
  Rendered books/edit.html.erb within layouts/application (26.7ms)
Completed 200 OK in 89ms (Views: 71.4ms | ActiveRecord: 2.9ms)


Started PATCH "/books/2" for ::1 at 2019-06-15 23:31:19 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"l3QQ4xlbCXT3IRT9lcjSDCvl0ZxqMZu3xanX2c4wlbst2Zf/GUL8pCSeMqnUElChg7uU6nYrsZXKgNsNkSDn+g==", "book"=>{"title"=>"Second book", "isbn13"=>"1234567891235", "description"=>"Second book it is.", "coverimage"=>"", "instock_total"=>"2", "instock_now"=>"1", "author_ids"=>["3"]}, "commit"=>"Update Book", "id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook Update (2.0ms)[0m  [1m[33mUPDATE "books" SET "instock_total" = ?, "instock_now" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["instock_total", 2], ["instock_now", 1], ["updated_at", "2019-06-15 21:31:19.397890"], ["id", 2]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (15.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/2
Completed 302 Found in 29ms (ActiveRecord: 18.2ms)


Started GET "/books/2" for ::1 at 2019-06-15 23:31:19 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 53ms (Views: 38.8ms | ActiveRecord: 0.7ms)


Started GET "/books" for ::1 at 2019-06-15 23:31:21 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 61ms (Views: 56.5ms | ActiveRecord: 1.2ms)


Started PUT "/__web_console/repl_sessions/563acfb4536003829616c204ff2bab37" for ::1 at 2019-06-15 23:42:17 +0200
Started PUT "/__web_console/repl_sessions/563acfb4536003829616c204ff2bab37" for ::1 at 2019-06-15 23:42:17 +0200
Started GET "/books/1/edit" for ::1 at 2019-06-15 23:42:21 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (16.5ms)
  Rendered books/edit.html.erb within layouts/application (22.0ms)
Completed 200 OK in 97ms (Views: 86.4ms | ActiveRecord: 4.7ms)


Started PUT "/__web_console/repl_sessions/8f0d60bc396ed721be5caa101d60c15d" for ::1 at 2019-06-15 23:42:24 +0200
Started PUT "/__web_console/repl_sessions/8f0d60bc396ed721be5caa101d60c15d" for ::1 at 2019-06-15 23:42:24 +0200
Started GET "/books" for ::1 at 2019-06-15 23:46:58 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (76.7ms)
Completed 200 OK in 169ms (Views: 131.5ms | ActiveRecord: 6.2ms)


Started GET "/books/2" for ::1 at 2019-06-15 23:47:01 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 60ms (Views: 52.4ms | ActiveRecord: 0.9ms)


Started GET "/books" for ::1 at 2019-06-15 23:47:04 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (2.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (35.5ms)
Completed 200 OK in 86ms (Views: 78.6ms | ActiveRecord: 3.6ms)


Started GET "/books/3" for ::1 at 2019-06-15 23:47:06 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 72ms (Views: 51.7ms | ActiveRecord: 0.6ms)


Started GET "/books" for ::1 at 2019-06-15 23:47:08 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (16.7ms)
Completed 200 OK in 69ms (Views: 63.7ms | ActiveRecord: 1.3ms)


Started GET "/books/1" for ::1 at 2019-06-15 23:47:11 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 137ms (Views: 131.5ms | ActiveRecord: 0.7ms)


Started GET "/books" for ::1 at 2019-06-15 23:47:14 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (14.0ms)
Completed 200 OK in 91ms (Views: 85.0ms | ActiveRecord: 1.6ms)


Started GET "/loans" for ::1 at 2019-06-15 23:49:36 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.5ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (73.4ms)
Completed 200 OK in 150ms (Views: 118.3ms | ActiveRecord: 3.1ms)


Started GET "/loans/1" for ::1 at 2019-06-15 23:49:42 +0200
Processing by LoansController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLoan Load (0.5ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:67
  Rendering loans/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/show.html.erb:34
  Rendered loans/show.html.erb within layouts/application (42.1ms)
Completed 200 OK in 134ms (Views: 81.3ms | ActiveRecord: 7.2ms)


Started GET "/loans/1" for ::1 at 2019-06-15 23:49:47 +0200
Processing by LoansController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLoan Load (0.6ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:67
  Rendering loans/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/show.html.erb:34
  Rendered loans/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 102ms (Views: 64.2ms | ActiveRecord: 1.3ms)


Started GET "/loans/1" for ::1 at 2019-06-15 23:50:52 +0200
Processing by LoansController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLoan Load (0.3ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:67
  Rendering loans/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/show.html.erb:34
  Rendered loans/show.html.erb within layouts/application (6.3ms)
Completed 200 OK in 63ms (Views: 58.4ms | ActiveRecord: 0.9ms)


Started GET "/loans" for ::1 at 2019-06-15 23:50:55 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.5ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 55ms (Views: 50.5ms | ActiveRecord: 1.6ms)


Started GET "/loans" for ::1 at 2019-06-15 23:51:31 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  Rendered loans/index.html.erb within layouts/application (36.3ms)
Completed 500 Internal Server Error in 56ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `user' for nil:NilClass
Did you mean?  super):
    21:         <td><%= loan.date_returned %></td>
    22:         <td><%= loan.confirmed %></td>
    23:         <td><%= loan.books %></td>
    24:         <td><%= @loan.user.name + ', ' + @loan.user.email + ', ' + @loan.user.phone  %></td>
    25:         <td><%= link_to 'Show', loan %></td>
    26:         <td><%= link_to 'Edit', edit_loan_path(loan) %></td>
    27:         <td><%= link_to 'Destroy', loan, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  
app/views/loans/index.html.erb:24:in `block in _app_views_loans_index_html_erb__600455507425512583_70317510070300'
app/views/loans/index.html.erb:18:in `_app_views_loans_index_html_erb__600455507425512583_70317510070300'
Started GET "/loans" for ::1 at 2019-06-15 23:51:53 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 58ms (Views: 53.1ms | ActiveRecord: 1.2ms)


Started GET "/loans" for ::1 at 2019-06-15 23:53:25 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  Rendered loans/index.html.erb within layouts/application (7.9ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `books' for nil:NilClass):
    20:         <td><%= loan.date_loaned %></td>
    21:         <td><%= loan.date_returned %></td>
    22:         <td><%= loan.confirmed %></td>
    23:         <td><%= @book.books.map(&:title).join(',') %></td>
    24:         <td><%= loan.books %></td>
    25:         <td><%= loan.user.name + ', ' + loan.user.email + ', ' + loan.user.phone  %></td>
    26:         <td><%= link_to 'Show', loan %></td>
  
app/views/loans/index.html.erb:23:in `block in _app_views_loans_index_html_erb__600455507425512583_70317607903720'
app/views/loans/index.html.erb:18:in `_app_views_loans_index_html_erb__600455507425512583_70317607903720'
Started GET "/loans" for ::1 at 2019-06-15 23:53:39 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:25
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 2]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:25
  Rendered loans/index.html.erb within layouts/application (12.7ms)
Completed 200 OK in 57ms (Views: 51.4ms | ActiveRecord: 1.7ms)


Started GET "/loans" for ::1 at 2019-06-15 23:53:53 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 2]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 60ms (Views: 55.0ms | ActiveRecord: 1.7ms)


Started GET "/loans/1" for ::1 at 2019-06-15 23:54:04 +0200
Processing by LoansController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLoan Load (1.7ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:67
  Rendering loans/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/show.html.erb:34
  Rendered loans/show.html.erb within layouts/application (6.6ms)
Completed 200 OK in 60ms (Views: 49.7ms | ActiveRecord: 2.4ms)


Started GET "/loans/1/edit" for ::1 at 2019-06-15 23:54:08 +0200
Processing by LoansController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLoan Load (0.3ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:67
  Rendering loans/edit.html.erb within layouts/application
  Rendered loans/_form.html.erb (38.2ms)
  Rendered loans/edit.html.erb within layouts/application (60.1ms)
Completed 200 OK in 108ms (Views: 95.2ms | ActiveRecord: 0.3ms)


Started GET "/loans" for ::1 at 2019-06-15 23:55:24 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 2]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 77ms (Views: 71.9ms | ActiveRecord: 1.5ms)


Started GET "/loans/new" for ::1 at 2019-06-15 23:55:29 +0200
Processing by LoansController#new as HTML
  Rendering loans/new.html.erb within layouts/application
  Rendered loans/_form.html.erb (5.4ms)
  Rendered loans/new.html.erb within layouts/application (9.9ms)
Completed 200 OK in 68ms (Views: 50.9ms | ActiveRecord: 0.0ms)


Started GET "/loans/1" for ::1 at 2019-06-15 23:56:23 +0200
Processing by LoansController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:67
  Rendering loans/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/show.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/show.html.erb:34
  Rendered loans/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 60ms (Views: 52.7ms | ActiveRecord: 1.3ms)


Started GET "/books/1" for ::1 at 2019-06-16 00:01:41 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (19.9ms)
Completed 200 OK in 82ms (Views: 72.7ms | ActiveRecord: 3.2ms)


Started GET "/books" for ::1 at 2019-06-16 00:01:44 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 60ms (Views: 51.6ms | ActiveRecord: 1.9ms)


Started GET "/books/1/edit" for ::1 at 2019-06-16 00:01:51 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 1], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (16.9ms)
  Rendered books/edit.html.erb within layouts/application (23.9ms)
Completed 200 OK in 68ms (Views: 60.6ms | ActiveRecord: 3.0ms)


Started GET "/books" for ::1 at 2019-06-16 00:01:54 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (1.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (14.6ms)
Completed 200 OK in 64ms (Views: 57.4ms | ActiveRecord: 2.9ms)


Started GET "/loans/" for ::1 at 2019-06-16 00:02:04 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 2]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (15.7ms)
Completed 200 OK in 66ms (Views: 58.6ms | ActiveRecord: 1.8ms)


Started GET "/books/" for ::1 at 2019-06-16 00:13:34 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 67ms (Views: 60.5ms | ActiveRecord: 1.4ms)


Started GET "/books/" for ::1 at 2019-06-16 00:13:56 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 58ms (Views: 53.1ms | ActiveRecord: 1.7ms)


Started GET "/books/" for ::1 at 2019-06-16 00:14:05 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (13.2ms)
Completed 200 OK in 57ms (Views: 51.6ms | ActiveRecord: 1.4ms)


Started GET "/books/" for ::1 at 2019-06-16 00:15:06 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (3.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (18.6ms)
Completed 200 OK in 62ms (Views: 51.7ms | ActiveRecord: 4.4ms)


Started GET "/books/" for ::1 at 2019-06-16 00:15:34 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  Rendered books/index.html.erb within layouts/application (13.2ms)
Completed 200 OK in 58ms (Views: 53.0ms | ActiveRecord: 1.7ms)


Started GET "/books/" for ::1 at 2019-06-16 00:15:59 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (2.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  Rendered books/index.html.erb within layouts/application (16.7ms)
Completed 200 OK in 88ms (Views: 76.7ms | ActiveRecord: 3.6ms)


Started GET "/books/" for ::1 at 2019-06-16 00:21:30 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  Rendered books/index.html.erb within layouts/application (14.0ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `authors' for nil:NilClass):
    36:             <% if book.instock_now > 0 %>
    37:               <%= check_box("loan", :loan_items) %>
    38: 
    39:               # <%= check_box_tag "loan[book_ids][]", book.id, @book.authors.include?(author), {:id => dom_id(author, dom_id(@book)) } %>
    40: 
    41:             <% end %>
    42:         </td>
  
app/views/books/index.html.erb:39:in `block in _app_views_books_index_html_erb__1329164800416521437_70317512626720'
app/views/books/index.html.erb:20:in `_app_views_books_index_html_erb__1329164800416521437_70317512626720'
Started GET "/books/" for ::1 at 2019-06-16 00:21:44 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (15.2ms)
Completed 200 OK in 60ms (Views: 55.0ms | ActiveRecord: 1.9ms)


Started GET "/users/" for ::1 at 2019-06-16 00:22:04 +0200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:18
  Rendered users/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 84ms (Views: 65.7ms | ActiveRecord: 0.3ms)


Started GET "/books/3/edit" for ::1 at 2019-06-16 11:30:14 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:44
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 1], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 2], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 3], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ? AND "authors"."id" = ? LIMIT ?[0m  [["book_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/views/books/_form.html.erb:46
  Rendered books/_form.html.erb (93.4ms)
  Rendered books/edit.html.erb within layouts/application (97.2ms)
Completed 200 OK in 177ms (Views: 151.2ms | ActiveRecord: 5.1ms)


Started GET "/books" for ::1 at 2019-06-16 11:34:49 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (55.0ms)
Completed 200 OK in 104ms (Views: 89.2ms | ActiveRecord: 5.9ms)


Started GET "/books" for ::1 at 2019-06-16 11:34:52 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 64ms (Views: 58.7ms | ActiveRecord: 1.9ms)


Started GET "/books" for ::1 at 2019-06-16 11:36:05 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (16.7ms)
Completed 200 OK in 84ms (Views: 78.6ms | ActiveRecord: 1.8ms)


Started GET "/books" for ::1 at 2019-06-16 11:36:35 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (14.6ms)
Completed 200 OK in 62ms (Views: 55.4ms | ActiveRecord: 2.0ms)


Started PUT "/__web_console/repl_sessions/6157026f79ff35e7df6d3f3bfdd66533" for ::1 at 2019-06-16 11:43:37 +0200
Started PUT "/__web_console/repl_sessions/6157026f79ff35e7df6d3f3bfdd66533" for ::1 at 2019-06-16 11:43:38 +0200
Started PUT "/__web_console/repl_sessions/6157026f79ff35e7df6d3f3bfdd66533" for ::1 at 2019-06-16 11:43:39 +0200
Started PUT "/__web_console/repl_sessions/6157026f79ff35e7df6d3f3bfdd66533" for ::1 at 2019-06-16 11:43:48 +0200
Started PUT "/__web_console/repl_sessions/6157026f79ff35e7df6d3f3bfdd66533" for ::1 at 2019-06-16 11:44:10 +0200
Started GET "/books" for ::1 at 2019-06-16 11:45:20 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (123.9ms)
Completed 200 OK in 176ms (Views: 158.4ms | ActiveRecord: 6.7ms)


Started GET "/books" for ::1 at 2019-06-16 15:02:43 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (61.2ms)
Completed 200 OK in 125ms (Views: 100.3ms | ActiveRecord: 7.8ms)


Started GET "/books/1/edit" for ::1 at 2019-06-16 15:02:46 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (157.3ms)
  Rendered books/edit.html.erb within layouts/application (161.7ms)
Completed 200 OK in 225ms (Views: 197.1ms | ActiveRecord: 5.0ms)


Started GET "/books/3/edit" for ::1 at 2019-06-16 15:02:52 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (34.9ms)
  Rendered books/edit.html.erb within layouts/application (39.7ms)
Completed 200 OK in 96ms (Views: 86.1ms | ActiveRecord: 1.3ms)


Started PATCH "/books/3" for ::1 at 2019-06-16 15:03:01 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qNJCLivPJfNPH/XLc7S2+fsvkxJN4DrWfYtuyEjUud1Q1hK1mTPrM/Y5jY5RrIHQPHTg7KmJvSG6j7aIm1VRjw==", "book"=>{"title"=>"Third book", "isbn13"=>"1234567891236", "description"=>"Third one.", "coverimage"=>"", "instock_total"=>"1", "instock_now"=>"0", "author_id"=>"3", "author_ids"=>["", "1", "3", "4"]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
Unpermitted parameter: :author_id
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (?, ?, ?)[0m  [["id", 1], ["id", 3], ["id", 4]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Destroy (5.6ms)[0m  [1m[31mDELETE FROM "authors_books" WHERE "authors_books"."book_id" = ? AND "authors_books"."author_id" = ?[0m  [["book_id", 3], ["author_id", 2]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 1], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 4], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (28.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/3
Completed 302 Found in 63ms (ActiveRecord: 36.0ms)


Started GET "/books/3" for ::1 at 2019-06-16 15:03:01 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 60ms (Views: 53.4ms | ActiveRecord: 0.6ms)


Started GET "/books" for ::1 at 2019-06-16 15:03:06 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (27.3ms)
Completed 200 OK in 91ms (Views: 76.1ms | ActiveRecord: 3.5ms)


Started GET "/books/3/edit" for ::1 at 2019-06-16 15:03:09 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (10.8ms)
  Rendered books/edit.html.erb within layouts/application (16.7ms)
Completed 200 OK in 61ms (Views: 55.6ms | ActiveRecord: 1.1ms)


Started GET "/books/3/edit" for ::1 at 2019-06-16 15:03:59 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (10.0ms)
  Rendered books/edit.html.erb within layouts/application (14.3ms)
Completed 200 OK in 66ms (Views: 59.5ms | ActiveRecord: 1.7ms)


Started GET "/books" for ::1 at 2019-06-16 15:06:17 +0200
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (4.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (402.6ms)
Completed 200 OK in 1169ms (Views: 1045.4ms | ActiveRecord: 23.9ms)


Started GET "/books/3/edit" for ::1 at 2019-06-16 15:06:22 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (144.8ms)
  Rendered books/edit.html.erb within layouts/application (148.6ms)
Completed 200 OK in 257ms (Views: 186.9ms | ActiveRecord: 1.3ms)


Started PATCH "/books/3" for ::1 at 2019-06-16 15:06:27 +0200
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EOQ+A0GqVDwPnUn/D/ZGw2NqLHq9Krc6Zbtu/L4eIFDo4G6Y81aa/La7Mbot7nHqpDFfhFlDMM2iv7a8bZ/IAg==", "book"=>{"title"=>"Third book", "isbn13"=>"1234567891236", "description"=>"Third one.", "coverimage"=>"", "instock_total"=>"1", "instock_now"=>"0", "author_id"=>"3", "author_ids"=>["", "2", "3"]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
Unpermitted parameter: :author_id
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Destroy (1.7ms)[0m  [1m[31mDELETE FROM "authors_books" WHERE "authors_books"."book_id" = ? AND "authors_books"."author_id" IN (?, ?)[0m  [["book_id", 3], ["author_id", 1], ["author_id", 4]]
  â†³ app/controllers/books_controller.rb:46
  [1m[36mBook::HABTM_Authors Create (0.2ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES (?, ?)[0m  [["author_id", 2], ["book_id", 3]]
  â†³ app/controllers/books_controller.rb:46
  [1m[35m (17.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/books_controller.rb:46
Redirected to http://localhost:3000/books/3
Completed 302 Found in 59ms (ActiveRecord: 20.7ms)


Started GET "/books/3" for ::1 at 2019-06-16 15:06:27 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 55ms (Views: 50.1ms | ActiveRecord: 0.6ms)


Started GET "/books" for ::1 at 2019-06-16 15:06:30 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 87ms (Views: 74.0ms | ActiveRecord: 1.7ms)


Started GET "/books/3/edit" for ::1 at 2019-06-16 15:06:32 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (13.5ms)
  Rendered books/edit.html.erb within layouts/application (17.3ms)
Completed 200 OK in 102ms (Views: 94.9ms | ActiveRecord: 1.2ms)


Started GET "/books/3" for ::1 at 2019-06-16 15:07:21 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (2.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/show.html.erb:35
  Rendered books/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 51ms (Views: 43.1ms | ActiveRecord: 2.9ms)


Started GET "/books/3/edit" for ::1 at 2019-06-16 15:07:24 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (11.5ms)
  Rendered books/edit.html.erb within layouts/application (16.0ms)
Completed 200 OK in 62ms (Views: 56.6ms | ActiveRecord: 1.0ms)


Started GET "/books" for ::1 at 2019-06-16 15:07:26 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 79ms (Views: 72.8ms | ActiveRecord: 1.9ms)


Started POST "/books" for ::1 at 2019-06-16 15:07:33 +0200
Processing by BooksController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Gw9rkAINhYwcGHtlf5o1xEbRYHLYNRL4mINvY/ZpY3Hi7yPQD88zN8VfcUE1Vl3sfBefI9tBMgk6M6BI8e1zHw==", "title"=>"", "isbn13"=>"", "send_welcome_email"=>"1", "commit"=>"Save "}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: book):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:28:in `create'
Started GET "/books/1/edit" for ::1 at 2019-06-16 15:31:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (16.2ms)
  Rendered books/edit.html.erb within layouts/application (21.8ms)
Completed 200 OK in 128ms (Views: 110.0ms | ActiveRecord: 1.5ms)


Started GET "/books" for ::1 at 2019-06-16 15:33:10 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (420.1ms)
Completed 500 Internal Server Error in 440ms (ActiveRecord: 5.3ms)


  
ActionView::Template::Error (undefined local variable or method `book' for #<#<Class:0x00007f0f809ff650>:0x00007f0f8175d180>
Did you mean?  @books):
    56:   <%= form.submit %>
    57: <% end %>
    58: 
    59: <%= form_with(model: book, local: true) do |form| %>
    60:   <% if book.errors.any? %>
    61:     <div id="error_explanation">
    62:       <h2><%= pluralize(book.errors.count, "error") %> prohibited this book from being saved:</h2>
  
app/views/books/index.html.erb:59:in `_app_views_books_index_html_erb___149440751740484994_69852286613500'
Started GET "/books" for ::1 at 2019-06-16 15:33:38 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (2.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (559.8ms)
Completed 500 Internal Server Error in 579ms (ActiveRecord: 4.2ms)


  
ActionView::Template::Error (undefined local variable or method `book' for #<#<Class:0x00007f0f809ff650>:0x00007f0f6c1a73e0>
Did you mean?  @books):
    57: <% end %>
    58: 
    59: <%= form_with(model: @book, local: true) do |form| %>
    60:   <% if book.errors.any? %>
    61:     <div id="error_explanation">
    62:       <h2><%= pluralize(book.errors.count, "error") %> prohibited this book from being saved:</h2>
    63: 
  
app/views/books/index.html.erb:60:in `block in _app_views_books_index_html_erb___149440751740484994_69852107456020'
app/views/books/index.html.erb:59:in `_app_views_books_index_html_erb___149440751740484994_69852107456020'
Started GET "/books" for ::1 at 2019-06-16 15:33:57 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (26.6ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    57: <% end %>
    58: 
    59: <%= form_with(model: @book, local: true) do |form| %>
    60:   <% if @book.errors.any? %>
    61:     <div id="error_explanation">
    62:       <h2><%= pluralize(book.errors.count, "error") %> prohibited this book from being saved:</h2>
    63: 
  
app/views/books/index.html.erb:60:in `block in _app_views_books_index_html_erb___149440751740484994_69852286041280'
app/views/books/index.html.erb:59:in `_app_views_books_index_html_erb___149440751740484994_69852286041280'
Started GET "/books" for ::1 at 2019-06-16 15:38:01 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/_loanform.html.erb (10.8ms)
  Rendered books/index.html.erb within layouts/application (610.6ms)
Completed 500 Internal Server Error in 716ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: book, local: true) do |form| %>
    2:   <% if book.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(book.errors.count, "error") %> prohibited this book from being saved:</h2>
    5: 
  
app/views/books/_loanform.html.erb:2:in `block in _app_views_books__loanform_html_erb___797481062912347755_69852208187500'
app/views/books/_loanform.html.erb:1:in `_app_views_books__loanform_html_erb___797481062912347755_69852208187500'
app/views/books/index.html.erb:60:in `_app_views_books_index_html_erb___149440751740484994_69852207994840'
Started GET "/books" for ::1 at 2019-06-16 15:40:46 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:47
  Rendered books/index.html.erb within layouts/application (30.5ms)
Completed 200 OK in 88ms (Views: 82.8ms | ActiveRecord: 2.4ms)


Started GET "/books" for ::1 at 2019-06-16 15:42:28 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (195.5ms)
Completed 500 Internal Server Error in 216ms (ActiveRecord: 3.5ms)


  
ActionView::Template::Error (undefined method `select_tag' for #<ActionView::Helpers::FormBuilder:0x00007f0f6c0ee8b8>
Did you mean?  select):
    51:   <%= check_box_tag :send_welcome_email %>
    52: 
    53: <div>
    54:   <%= form.select_tag "user_ids[]", options_from_collection_for_select(User.all, "id", "name"), :multiple=>false %>
    55: </div>
    56: 
    57:   <%= form.submit %>
  
app/views/books/index.html.erb:54:in `block in _app_views_books_index_html_erb___149440751740484994_69852106944560'
app/views/books/index.html.erb:48:in `_app_views_books_index_html_erb___149440751740484994_69852106944560'
Started GET "/books" for ::1 at 2019-06-16 15:45:04 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (60.0ms)
Completed 200 OK in 119ms (Views: 114.3ms | ActiveRecord: 1.8ms)


Started GET "/books" for ::1 at 2019-06-16 15:46:27 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (47.8ms)
Completed 200 OK in 96ms (Views: 89.5ms | ActiveRecord: 2.0ms)


Started GET "/books" for ::1 at 2019-06-16 15:47:59 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (16.8ms)
Completed 200 OK in 77ms (Views: 71.1ms | ActiveRecord: 1.9ms)


Started GET "/books" for ::1 at 2019-06-16 15:48:32 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  Rendered books/index.html.erb within layouts/application (398.5ms)
Completed 500 Internal Server Error in 413ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (undefined local variable or method `form' for #<#<Class:0x00007f0f809ff650>:0x00007f0f74484cb8>
Did you mean?  for
               fork):
    46: <h2>New book loan:</h2>
    47: 
    48: <div>
    49:   <%= form.collection_select :user_id, User.all, :id, :name, {:prompt => 'Please select user for this book loan'} %>
    50: </div>
    51: 
    52: 
  
app/views/books/index.html.erb:49:in `_app_views_books_index_html_erb___149440751740484994_69852176067200'
Started GET "/books" for ::1 at 2019-06-16 15:49:23 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:51
  Rendered books/index.html.erb within layouts/application (109.2ms)
Completed 200 OK in 325ms (Views: 318.4ms | ActiveRecord: 1.9ms)


Started GET "/books" for ::1 at 2019-06-16 15:49:51 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:51
  Rendered books/index.html.erb within layouts/application (18.1ms)
Completed 200 OK in 67ms (Views: 59.5ms | ActiveRecord: 2.4ms)


Started GET "/books" for ::1 at 2019-06-16 15:50:01 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:51
  Rendered books/index.html.erb within layouts/application (20.3ms)
Completed 200 OK in 95ms (Views: 74.4ms | ActiveRecord: 2.0ms)


Started GET "/books/1/edit" for ::1 at 2019-06-16 15:56:50 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/books_controller.rb:71
  Rendering books/edit.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/_form.html.erb:47
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/books/_form.html.erb:47
  Rendered books/_form.html.erb (9.2ms)
  Rendered books/edit.html.erb within layouts/application (13.6ms)
Completed 200 OK in 94ms (Views: 88.7ms | ActiveRecord: 1.1ms)


Started GET "/books" for ::1 at 2019-06-16 15:58:03 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:51
  Rendered books/index.html.erb within layouts/application (341.5ms)
Completed 200 OK in 473ms (Views: 467.8ms | ActiveRecord: 2.1ms)


Started GET "/books" for ::1 at 2019-06-16 16:02:27 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:29
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:51
  Rendered books/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 85ms (Views: 77.9ms | ActiveRecord: 2.0ms)


Started GET "/books" for ::1 at 2019-06-16 16:05:32 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (1.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (80.6ms)
Completed 200 OK in 148ms (Views: 118.0ms | ActiveRecord: 9.5ms)


Started GET "/books" for ::1 at 2019-06-16 16:30:07 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (84.3ms)
Completed 200 OK in 154ms (Views: 120.3ms | ActiveRecord: 7.8ms)


Started GET "/books" for ::1 at 2019-06-16 16:35:15 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (31.3ms)
Completed 200 OK in 92ms (Views: 81.9ms | ActiveRecord: 2.3ms)


Started POST "/books" for ::1 at 2019-06-16 16:35:21 +0200
Processing by BooksController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JHhGB7/K3/NyhoN8ARToh4p1NbBHHjWfIunfBK0gQ6WCw2K1q2sm7hsaQINlx8rl8NUNA911F7hdD7QH/AkwGA==", "user_id"=>"", "loan_items"=>"0", "loan"=>{"book_ids"=>["1", "2"]}, "commit"=>"Save "}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: book):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:28:in `create'
Started POST "/books" for ::1 at 2019-06-16 16:35:22 +0200
Processing by BooksController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JHhGB7/K3/NyhoN8ARToh4p1NbBHHjWfIunfBK0gQ6WCw2K1q2sm7hsaQINlx8rl8NUNA911F7hdD7QH/AkwGA==", "user_id"=>"", "loan_items"=>"0", "loan"=>{"book_ids"=>["1", "2"]}, "commit"=>"Save "}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: book):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:28:in `create'
Started POST "/books" for ::1 at 2019-06-16 16:35:26 +0200
Processing by BooksController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JHhGB7/K3/NyhoN8ARToh4p1NbBHHjWfIunfBK0gQ6WCw2K1q2sm7hsaQINlx8rl8NUNA911F7hdD7QH/AkwGA==", "user_id"=>"", "loan_items"=>"1", "loan"=>{"book_ids"=>["1", "2"]}, "commit"=>"Save "}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: book):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:28:in `create'
Started POST "/books" for ::1 at 2019-06-16 16:35:30 +0200
Processing by BooksController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JHhGB7/K3/NyhoN8ARToh4p1NbBHHjWfIunfBK0gQ6WCw2K1q2sm7hsaQINlx8rl8NUNA911F7hdD7QH/AkwGA==", "user_id"=>"2", "loan_items"=>"1", "loan"=>{"book_ids"=>["1", "2"]}, "commit"=>"Save "}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: book):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:28:in `create'
Started GET "/loans/" for ::1 at 2019-06-16 17:09:21 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mBook Load (3.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 2]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (106.8ms)
Completed 200 OK in 267ms (Views: 213.8ms | ActiveRecord: 11.0ms)


Started GET "/books" for ::1 at 2019-06-16 17:10:06 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.6ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/index.html.erb:5: syntax error, unexpected tIDENTIFIER, expecting end
...rm_with url: "/loans/new" model: @book do |form| @output_buf...
...                          ^~~~~
/mnt/c/rw/kni/app/views/books/index.html.erb:66: syntax error, unexpected ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/books/index.html.erb:5: syntax error, unexpected tIDENTIFIER, expecting end
app/views/books/index.html.erb:66: syntax error, unexpected ensure, expecting end-of-input
Started GET "/books" for ::1 at 2019-06-16 17:10:32 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/index.html.erb:5: syntax error, unexpected tIDENTIFIER, expecting end
...orm_with url:"/loans/new" model: @book do |form| @output_buf...
...                          ^~~~~
/mnt/c/rw/kni/app/views/books/index.html.erb:66: syntax error, unexpected ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/books/index.html.erb:5: syntax error, unexpected tIDENTIFIER, expecting end
app/views/books/index.html.erb:66: syntax error, unexpected ensure, expecting end-of-input
Started GET "/books" for ::1 at 2019-06-16 17:10:42 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/index.html.erb:5: syntax error, unexpected tIDENTIFIER, expecting end
...orm_with url:'/loans/new' model: @book do |form| @output_buf...
...                          ^~~~~
/mnt/c/rw/kni/app/views/books/index.html.erb:66: syntax error, unexpected ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/books/index.html.erb:5: syntax error, unexpected tIDENTIFIER, expecting end
app/views/books/index.html.erb:66: syntax error, unexpected ensure, expecting end-of-input
Started GET "/books" for ::1 at 2019-06-16 17:10:56 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 155ms (ActiveRecord: 0.0ms)


  
SyntaxError (/mnt/c/rw/kni/app/views/books/index.html.erb:5: syntax error, unexpected tIDENTIFIER, expecting end
...nd=  form_with model: @book url:'/loans/new' do |form| @outp...
...                            ^~~
/mnt/c/rw/kni/app/views/books/index.html.erb:5: syntax error, unexpected do, expecting end
...odel: @book url:'/loans/new' do |form| @output_buffer.safe_a...
...                             ^~
/mnt/c/rw/kni/app/views/books/index.html.erb:66: syntax error, unexpected ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/books/index.html.erb:5: syntax error, unexpected tIDENTIFIER, expecting end
app/views/books/index.html.erb:5: syntax error, unexpected do, expecting end
app/views/books/index.html.erb:66: syntax error, unexpected ensure, expecting end-of-input
Started GET "/books" for ::1 at 2019-06-16 17:11:13 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (476.9ms)
Completed 200 OK in 732ms (Views: 691.9ms | ActiveRecord: 33.3ms)


Started PUT "/__web_console/repl_sessions/0018e65960484664f46b63341ea27ad8" for ::1 at 2019-06-16 18:04:40 +0200
Started PUT "/__web_console/repl_sessions/0018e65960484664f46b63341ea27ad8" for ::1 at 2019-06-16 18:04:42 +0200
Started PUT "/__web_console/repl_sessions/0018e65960484664f46b63341ea27ad8" for ::1 at 2019-06-16 18:04:46 +0200
Started PUT "/__web_console/repl_sessions/0018e65960484664f46b63341ea27ad8" for ::1 at 2019-06-16 18:04:54 +0200
Started GET "/books" for ::1 at 2019-06-16 18:05:30 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 66ms (Views: 54.6ms | ActiveRecord: 2.8ms)


Started POST "/loans/new" for ::1 at 2019-06-16 18:05:35 +0200
  
ActionController::RoutingError (No route matches [POST] "/loans/new"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started POST "/loans/new" for ::1 at 2019-06-16 18:05:37 +0200
  
ActionController::RoutingError (No route matches [POST] "/loans/new"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started POST "/loans/new" for ::1 at 2019-06-16 19:26:00 +0200
  
ActionController::RoutingError (No route matches [POST] "/loans/new"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started POST "/loans/new" for ::1 at 2019-06-16 19:26:32 +0200
  
ActionController::RoutingError (No route matches [POST] "/loans/new"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/books" for ::1 at 2019-06-16 20:36:47 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (62.0ms)
Completed 200 OK in 130ms (Views: 97.8ms | ActiveRecord: 7.6ms)


Started POST "/loans" for ::1 at 2019-06-16 20:36:50 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"zIpTKPHlaUuBVXbyc997yPQwMqSg5VUQRPSvSjbglN5qMXea5USQVujJtQ0XDFmqjpAKFzqOdzc7EsRJZ8nnYw==", "user_id"=>"", "loan_items"=>"0", "commit"=>"Save "}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: loan):
  
app/controllers/loans_controller.rb:75:in `loan_params'
app/controllers/loans_controller.rb:28:in `create'
Started PUT "/__web_console/repl_sessions/151e727382661d61a29c5e96850a58b4" for ::1 at 2019-06-16 20:54:09 +0200
Started PUT "/__web_console/repl_sessions/151e727382661d61a29c5e96850a58b4" for ::1 at 2019-06-16 20:54:11 +0200
Started PUT "/__web_console/repl_sessions/151e727382661d61a29c5e96850a58b4" for ::1 at 2019-06-16 20:54:15 +0200
Started PUT "/__web_console/repl_sessions/151e727382661d61a29c5e96850a58b4" for ::1 at 2019-06-16 20:54:43 +0200
Started PUT "/__web_console/repl_sessions/151e727382661d61a29c5e96850a58b4" for ::1 at 2019-06-16 20:54:44 +0200
Started PUT "/__web_console/repl_sessions/151e727382661d61a29c5e96850a58b4" for ::1 at 2019-06-16 20:54:45 +0200
Started PUT "/__web_console/repl_sessions/151e727382661d61a29c5e96850a58b4" for ::1 at 2019-06-16 20:54:53 +0200
Started PUT "/__web_console/repl_sessions/151e727382661d61a29c5e96850a58b4" for ::1 at 2019-06-16 20:54:54 +0200
Started GET "/loans/" for ::1 at 2019-06-16 20:56:46 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 2]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (16.9ms)
Completed 200 OK in 66ms (Views: 55.8ms | ActiveRecord: 2.1ms)


Started GET "/users/" for ::1 at 2019-06-16 20:56:51 +0200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:18
  Rendered users/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 68ms (Views: 44.8ms | ActiveRecord: 0.6ms)


Started GET "/authors/" for ::1 at 2019-06-16 20:57:10 +0200
Processing by AuthorsController#index as HTML
  Rendering authors/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  â†³ app/views/authors/index.html.erb:15
  Rendered authors/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 70ms (Views: 50.8ms | ActiveRecord: 0.4ms)


Started GET "/books/" for ::1 at 2019-06-16 20:57:17 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (24.5ms)
Completed 200 OK in 83ms (Views: 69.9ms | ActiveRecord: 2.4ms)


Started GET "/loans/" for ::1 at 2019-06-16 20:57:23 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.3ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 2]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (14.8ms)
Completed 200 OK in 74ms (Views: 67.6ms | ActiveRecord: 3.1ms)


Started GET "/users/" for ::1 at 2019-06-16 20:57:39 +0200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:18
  Rendered users/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 62ms (Views: 58.1ms | ActiveRecord: 0.3ms)


Started GET "/books" for ::1 at 2019-06-16 21:13:05 +0200
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (351.2ms)
Completed 200 OK in 1138ms (Views: 983.1ms | ActiveRecord: 10.0ms)


Started PUT "/__web_console/repl_sessions/994c41824a90e11e24b70e615dad0cf4" for ::1 at 2019-06-16 21:13:40 +0200
Started PUT "/__web_console/repl_sessions/994c41824a90e11e24b70e615dad0cf4" for ::1 at 2019-06-16 21:13:40 +0200
Started POST "/loans" for ::1 at 2019-06-16 21:13:55 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5UxFMcmRHThZMDBv940ynme+91iGO8w4HPwe+wd0zyVD92GD3TDkJTCs85CTXhD8HR7P6xxQ7h9jGnX4Vl28mA==", "user_id"=>"", "loan_items"=>"0", "commit"=>"Save "}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: loan):
  
app/controllers/loans_controller.rb:75:in `loan_params'
app/controllers/loans_controller.rb:28:in `create'
Started GET "/books" for ::1 at 2019-06-16 21:29:55 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (132.8ms)
Completed 200 OK in 213ms (Views: 176.1ms | ActiveRecord: 12.3ms)


Started POST "/loans" for ::1 at 2019-06-16 21:30:06 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NPV/BADSd7hhpeIY9EugV7uUChzTCv4QFfjdjUt0ooySTlu2FHOOpQg5IeeQmII1wTQyr0lh3DdqHraOGl3RMQ==", "loan"=>{"user_id"=>"1", "loan_items"=>"0", "book_ids"=>["1", "2"]}, "commit"=>"Create Loan"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `each' for "0":String):
  
app/controllers/loans_controller.rb:28:in `create'
Started POST "/loans" for ::1 at 2019-06-16 21:30:47 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NPV/BADSd7hhpeIY9EugV7uUChzTCv4QFfjdjUt0ooySTlu2FHOOpQg5IeeQmII1wTQyr0lh3DdqHraOGl3RMQ==", "loan"=>{"user_id"=>"1", "loan_items"=>"0"}, "commit"=>"Create Loan"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `each' for "0":String):
  
app/controllers/loans_controller.rb:28:in `create'
Started POST "/loans" for ::1 at 2019-06-16 21:31:10 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NPV/BADSd7hhpeIY9EugV7uUChzTCv4QFfjdjUt0ooySTlu2FHOOpQg5IeeQmII1wTQyr0lh3DdqHraOGl3RMQ==", "loan"=>{"user_id"=>"1", "loan_items"=>"0"}, "commit"=>"Create Loan"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `each' for "0":String):
  
app/controllers/loans_controller.rb:28:in `create'
Started POST "/loans" for ::1 at 2019-06-16 21:31:16 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NPV/BADSd7hhpeIY9EugV7uUChzTCv4QFfjdjUt0ooySTlu2FHOOpQg5IeeQmII1wTQyr0lh3DdqHraOGl3RMQ==", "loan"=>{"user_id"=>"2", "loan_items"=>"0"}, "commit"=>"Create Loan"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `each' for "0":String):
  
app/controllers/loans_controller.rb:28:in `create'
Started POST "/loans" for ::1 at 2019-06-16 21:31:18 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NPV/BADSd7hhpeIY9EugV7uUChzTCv4QFfjdjUt0ooySTlu2FHOOpQg5IeeQmII1wTQyr0lh3DdqHraOGl3RMQ==", "loan"=>{"user_id"=>"", "loan_items"=>"0"}, "commit"=>"Create Loan"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `each' for "0":String):
  
app/controllers/loans_controller.rb:28:in `create'
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:51:32 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:51:38 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:51:38 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:51:43 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:51:43 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:51:44 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:51:51 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:51:52 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:52:16 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:52:19 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:52:22 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:52:27 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:55:13 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:55:22 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:55:25 +0200
Started PUT "/__web_console/repl_sessions/cb5e4fa8da96672522b3eb34545b25fb" for ::1 at 2019-06-17 07:55:33 +0200
Started GET "/books" for ::1 at 2019-06-17 08:07:09 +0200
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/Tomas/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (142.5ms)
Completed 200 OK in 464ms (Views: 390.3ms | ActiveRecord: 8.1ms)


Started POST "/loans" for ::1 at 2019-06-17 08:07:20 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gBwyHmYktThNAYD8R80tnSGy/YGuEkITZtDOfh/+tkAmpxascoVMJSSdQwMjHg//WxLFMjR5YDQZNqV9TtfF/Q==", "loan"=>{"user_id"=>"", "loan_items"=>"0"}, "commit"=>"Create Loan"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `each' for "0":String):
  
app/controllers/loans_controller.rb:28:in `create'
Started POST "/loans" for ::1 at 2019-06-17 08:07:29 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gBwyHmYktThNAYD8R80tnSGy/YGuEkITZtDOfh/+tkAmpxascoVMJSSdQwMjHg//WxLFMjR5YDQZNqV9TtfF/Q==", "loan"=>{"user_id"=>"2", "loan_items"=>"0", "book_ids"=>["1", "2"]}, "commit"=>"Create Loan"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `each' for "0":String):
  
app/controllers/loans_controller.rb:28:in `create'
Started POST "/loans" for ::1 at 2019-06-17 08:12:34 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gBwyHmYktThNAYD8R80tnSGy/YGuEkITZtDOfh/+tkAmpxascoVMJSSdQwMjHg//WxLFMjR5YDQZNqV9TtfF/Q==", "loan"=>{"user_id"=>"2", "loan_items"=>"1", "book_ids"=>["1", "2"]}, "commit"=>"Create Loan"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `each' for "1":String):
  
app/controllers/loans_controller.rb:28:in `create'
Started GET "/books" for ::1 at 2019-06-17 08:13:04 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/books/index.html.erb:8
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  â†³ app/views/books/index.html.erb:28
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 1]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 2]]
  â†³ app/views/books/index.html.erb:37
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = ?[0m  [["book_id", 3]]
  â†³ app/views/books/index.html.erb:37
  Rendered books/index.html.erb within layouts/application (17.1ms)
Completed 200 OK in 64ms (Views: 57.7ms | ActiveRecord: 2.8ms)


Started POST "/loans" for ::1 at 2019-06-17 08:13:10 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mNCR51VecpcVSqC/b4UQIUSjzbzeOZJukE0jm3afc24+a7VVQf+LinzWY0ALVjJDPgP1D0RSsEnvq0iYJ7YA0w==", "loan"=>{"user_id"=>"", "book_ids"=>["1", "2"]}, "commit"=>"Create Loan"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/controllers/loans_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/loans_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/loans_controller.rb:31
  Rendering loans/new.html.erb within layouts/application
  Rendered loans/_form.html.erb (92.6ms)
  Rendered loans/new.html.erb within layouts/application (100.6ms)
Completed 200 OK in 211ms (Views: 152.4ms | ActiveRecord: 1.4ms)


Started POST "/loans" for ::1 at 2019-06-17 08:14:28 +0200
Processing by LoansController#create as JS
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mNCR51VecpcVSqC/b4UQIUSjzbzeOZJukE0jm3afc24+a7VVQf+LinzWY0ALVjJDPgP1D0RSsEnvq0iYJ7YA0w==", "loan"=>{"user_id"=>"2", "book_ids"=>["1", "2"]}, "commit"=>"Create Loan"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/controllers/loans_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/loans_controller.rb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:31
  [1m[36mLoan Create (5.9ms)[0m  [1m[32mINSERT INTO "loans" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 2], ["created_at", "2019-06-17 06:14:28.376540"], ["updated_at", "2019-06-17 06:14:28.376540"]]
  â†³ app/controllers/loans_controller.rb:31
  [1m[36mLoanItem Create (0.3ms)[0m  [1m[32mINSERT INTO "loan_items" ("loan_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["loan_id", 3], ["book_id", 1], ["created_at", "2019-06-17 06:14:28.385579"], ["updated_at", "2019-06-17 06:14:28.385579"]]
  â†³ app/controllers/loans_controller.rb:31
  [1m[36mLoanItem Create (0.1ms)[0m  [1m[32mINSERT INTO "loan_items" ("loan_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["loan_id", 3], ["book_id", 2], ["created_at", "2019-06-17 06:14:28.387416"], ["updated_at", "2019-06-17 06:14:28.387416"]]
  â†³ app/controllers/loans_controller.rb:31
  [1m[35m (31.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/loans_controller.rb:31
Redirected to http://localhost:3000/loans/3
Completed 200 OK in 55ms (ActiveRecord: 38.5ms)


Started GET "/loans/3" for ::1 at 2019-06-17 08:14:28 +0200
Processing by LoansController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mLoan Load (0.4ms)[0m  [1m[34mSELECT  "loans".* FROM "loans" WHERE "loans"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/loans_controller.rb:69
  Rendering loans/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 3]]
  â†³ app/views/loans/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/loans/show.html.erb:34
  Rendered loans/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 67ms (Views: 42.0ms | ActiveRecord: 1.2ms)


Started GET "/loans" for ::1 at 2019-06-17 08:15:19 +0200
Processing by LoansController#index as HTML
  Rendering loans/index.html.erb within layouts/application
  [1m[36mLoan Load (0.5ms)[0m  [1m[34mSELECT "loans".* FROM "loans"[0m
  â†³ app/views/loans/index.html.erb:18
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 1]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 2]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "loan_items" ON "books"."id" = "loan_items"."book_id" WHERE "loan_items"."loan_id" = ?[0m  [["loan_id", 3]]
  â†³ app/views/loans/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/loans/index.html.erb:24
  Rendered loans/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 63ms (Views: 56.7ms | ActiveRecord: 2.4ms)


